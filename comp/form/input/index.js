"use client";
import { jsxs as _jsxs, jsx as _jsx } from "react/jsx-runtime";
import { fnCss } from "nextjs-tools";
import { useEffect, useState } from "react";
import CSS from "../index.module.scss";
export default function ({ label, className, hidden, children, disabled, required, name, defaultValue, type, autoComplete, inputMode, regexp, invalidMessage, }) {
    const [value, setValue] = useState(defaultValue || "");
    const isValid = new RegExp(regexp || "").test(`${value || ""}`);
    const errMsg = value && !isValid ? invalidMessage || "" : "";
    useEffect(() => {
        setValue(defaultValue || "");
    }, [defaultValue]);
    return (_jsxs("div", { className: fnCss.concat(className, hidden ? "hidden" : ""), children: [label && (_jsxs("div", { className: CSS["label"], children: [label, errMsg && _jsxs("span", { className: "color-warning ml-2", children: ["(", errMsg, ")"] })] })), _jsxs("div", { className: "flex items-center", children: [_jsx("input", { disabled, required, name, type, autoComplete, inputMode, className: fnCss.concat("grow", errMsg && CSS["wrong"], CSS["input"], CSS["tag"]), onChange: (e) => setValue(e.target.value), value: value }), children && _jsx("div", { className: "ml-3", children: children })] })] }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOztBQUNiLE9BQU8sRUFBQyxLQUFLLEVBQXlCLE1BQU0sY0FBYyxDQUFDO0FBQzNELE9BQWMsRUFBb0UsU0FBUyxFQUFFLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQUNwSCxPQUFPLEdBQUcsTUFBTSxzQkFBc0IsQ0FBQztBQW9CdkMsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixLQUFLLEVBQ0wsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsUUFBUSxFQUNSLFFBQVEsRUFDUixJQUFJLEVBQ0osWUFBWSxFQUNaLElBQUksRUFDSixZQUFZLEVBQ1osU0FBUyxFQUNULE1BQU0sRUFDTixjQUFjLEdBQ1A7SUFDUCxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxZQUFZLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkQsTUFBTSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sTUFBTSxHQUFHLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsY0FBYyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRTdELFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDZCxRQUFRLENBQUMsWUFBWSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzlCLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7SUFFbkIsT0FBTyxDQUNOLGVBQUssU0FBUyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsYUFDN0QsS0FBSyxJQUFJLENBQ1QsZUFBSyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxhQUMxQixLQUFLLEVBQ0wsTUFBTSxJQUFJLGdCQUFNLFNBQVMsRUFBQyxvQkFBb0Isa0JBQUcsTUFBTSxTQUFTLElBQzVELENBQ04sRUFFRCxlQUFLLFNBQVMsRUFBQyxtQkFBbUIsYUFDakMsZ0JBQ00sUUFBUSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQzVELFNBQVMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDakYsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFDekMsS0FBSyxFQUFFLEtBQUssR0FDWCxFQUVELFFBQVEsSUFBSSxjQUFLLFNBQVMsRUFBRSxNQUFNLFlBQUcsUUFBUSxHQUFPLElBQ2hELElBQ0QsQ0FDTixDQUFDO0FBQ0gsQ0FBQyJ9