"use client";
import { fnCss } from "nextjs-tools";
import React, { useEffect, useState } from "react";
export default function ({ label, className, hidden, children, disabled, required, name, defaultValue, type, autoComplete, inputMode, regexp, invalidMessage, readOnly, }) {
    const [value, setValue] = useState(defaultValue || "");
    const isValid = new RegExp(regexp || "").test(`${value || ""}`);
    const errMsg = value && !isValid ? invalidMessage || "" : "";
    useEffect(() => {
        setValue(defaultValue || "");
    }, [defaultValue]);
    return (<div className={fnCss.concat(className, hidden ? "hidden" : "")}>
			{label && (<div className="label">
					{label}
					{errMsg && <span className="color-warning ml-2">({errMsg})</span>}
				</div>)}

			<div className="flex items-center">
				<input {...{ disabled, required, name, type, autoComplete, inputMode, readOnly }} className={fnCss.concat("grow", errMsg && "wrong", "input", readOnly ? "readonly cursor-not-allowed" : "tag")} onChange={(e) => setValue(e.target.value)} value={value}/>

				{children && <div className={"ml-3"}>{children}</div>}
			</div>
		</div>);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanN4Iiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXAvZm9ybS9pbnB1dC9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBQ2IsT0FBTyxFQUFDLEtBQUssRUFBeUIsTUFBTSxjQUFjLENBQUM7QUFDM0QsT0FBTyxLQUFLLEVBQUUsRUFBb0UsU0FBUyxFQUFFLFFBQVEsRUFBQyxNQUFNLE9BQU8sQ0FBQztBQXNCcEgsTUFBTSxDQUFDLE9BQU8sV0FBVyxFQUN4QixLQUFLLEVBQ0wsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsUUFBUSxFQUNSLFFBQVEsRUFDUixJQUFJLEVBQ0osWUFBWSxFQUNaLElBQUksRUFDSixZQUFZLEVBQ1osU0FBUyxFQUNULE1BQU0sRUFDTixjQUFjLEVBQ2QsUUFBUSxHQUNEO0lBQ1AsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxRQUFRLENBQUMsWUFBWSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sT0FBTyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNoRSxNQUFNLE1BQU0sR0FBRyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUU3RCxTQUFTLENBQUMsR0FBRyxFQUFFO1FBQ2QsUUFBUSxDQUFDLFlBQVksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUM5QixDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBRW5CLE9BQU8sQ0FDTixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDL0Q7R0FBQSxDQUFDLEtBQUssSUFBSSxDQUNULENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQ3JCO0tBQUEsQ0FBQyxLQUFLLENBQ047S0FBQSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQ2xFO0lBQUEsRUFBRSxHQUFHLENBQUMsQ0FDTixDQUVEOztHQUFBLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FDakM7SUFBQSxDQUFDLEtBQUssQ0FDTCxJQUFJLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FDeEUsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FDdEIsTUFBTSxFQUNOLE1BQU0sSUFBSSxPQUFPLEVBQ2pCLE9BQU8sRUFDUCxRQUFRLENBQUMsQ0FBQyxDQUFDLDZCQUE2QixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQ2hELENBQUMsQ0FDRixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FDMUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBR2Q7O0lBQUEsQ0FBQyxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FDdEQ7R0FBQSxFQUFFLEdBQUcsQ0FDTjtFQUFBLEVBQUUsR0FBRyxDQUFDLENBQ04sQ0FBQztBQUNILENBQUMifQ==